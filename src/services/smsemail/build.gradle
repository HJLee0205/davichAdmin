/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'net.danvi.dmall.java-conventions'
    id 'java'
    id 'war'
}

description = 'davichmarket.smsemail'

dependencies {
    implementation 'org.apache.commons:commons-lang3:3.3.2'
    implementation 'com.atomikos:transactions-jta:4.0.4'
    implementation 'com.atomikos:transactions-jdbc:4.0.4'
    implementation 'javax.transaction:jta:1.1'
    implementation 'org.apache.httpcomponents:httpclient:4.5.3'
    implementation project(':config')
    implementation project(':module.common')
    implementation project(':module.business')
    implementation project(':module.smsemail.remote')
    implementation project(':module.smsemail.common')
}

tasks.processResources {
    String profile = BuildProfile.getProfile()
    duplicatesStrategy = DuplicatesStrategy.INCLUDE
    from "src/main/resources_${profile}"
}

tasks.whenTaskAdded { task ->
    if("lint" == task.name && "stage" != BuildProfile.getProfile()) {
        task.enabled = false
    }
}