/*
 * This file was generated by the Gradle 'init' task.
 */
plugins {
    id 'net.danvi.dmall.java-conventions'
}

if (BuildTarget.getTarget() == 'all' || BuildTarget.getTarget().find("web") != null) {
    plugins.apply('war')
} else {
    plugins.apply('java')
}

description = 'davichmarket.web'

dependencies {
    implementation project(':config')
    implementation project(':module.common')
    implementation project(':module.business')
    implementation project(':module.smsemail.remote')
}

tasks.processResources {
    String profile = BuildProfile.getProfile()
    duplicatesStrategy = DuplicatesStrategy.INCLUDE
    from "src/main/resources_${profile}"
}

tasks.whenTaskAdded { task ->
    if("lint" == task.name && "stage" != BuildProfile.getProfile()) {
        task.enabled = false
    }
}